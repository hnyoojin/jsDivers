<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form>
        <!--1.주소버튼누르고/2.팝업에있는값클릭/3.출력/4.추가주소칸에추가입력-->
        <div>
            <label>우편번호</label>
            <input id="postNum">
        </div>
        <div>
            <label>주소</label>
            <input id="mainAddress">
        </div>
        <div>
            <label>추가주소:</label>
            <input id="subAddress">
            <button id="popUpButton">주소찾기</button>
        </div>
    </form>

    <div id="popUp">
       <table>

        <thead>
            <tr>
                <th>우편번호</th>
                <th>주소</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>01234</td>
                <td>서울시 111 아파트</td>
            </tr>
            <tr>
                <td>56789</td>
                <td>부산시 222 아파트</td>
            </tr>
        </tbody>
        
       </table>
    </div>


    <script>
        const popUpButton=document.getElementById('popUpButton');
        const popUp=document.getElementById('popUp');
        const postNumInput=document.getElementById('postNum');
        const mainAddressInput=document.getElementById('mainAddress');

       popUpButton.addEventListener('click',(e)=>{
        e.preventDefault();
        popUp.style.display='block';
       })
       document.querySelectorAll('#popUp tbody tr').forEach(row=>{
        // #popUp -> tbody -> tr ==> 모든 tr 요소들을 forEach 순회 / row: 각 반복에서 나타내는 <tr> 요소
        row.addEventListener('click',()=>{
            //현재 클릭한 <tr>의 자식요소 <td>의 textContent 가져오기
            const postNum=row.children[0].textContent;
            const mainAddress=row.children[1].textContent;
            popUp.style.display ='none';
            postNumInput.value=postNum;
            mainAddressInput.value=mainAddress;
        })
       })
    </script>

    <style>
        th,td{border: solid 0.5px;}
        #popUp{display: none; position: absolute; border: 1px solid black; background-color: white; padding: 10px;}
        tr{cursor: pointer;}
    </style>
</body>
</html>